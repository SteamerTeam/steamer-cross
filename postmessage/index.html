<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
    <title>postMessage index page</title> 
</head>

<body>
<iframe id="dataFrame" src="http://leehey.org/crossjs/postmessage/data.html" width="100px" height="100px"></iframe>
<script src="../cross.js"></script>
<script>
    cx(
    	{
    		// url: 'http://leehey.org/crossjs/postmessage/data.html',
            frameSrc: document.getElementById('dataFrame'),
            removeFrame: true,
            processData: function() {
                return 'test data from index.html';
            },
            beforesend: function() {
                cxLog('beforesend from index.html');
            },
            success: function(data) {
                cxLog(data);
            },
            complete: function() {
                cxLog('complete from index.html');
            },
    		error: function(e) {
    			cxLog(e);
    		}
    	}
    ).postMessageRequest();	
</script>
</body>
</html>