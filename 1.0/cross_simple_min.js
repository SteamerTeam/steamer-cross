function cross(e){var t;var n;var r;var i=e.type?e.type:"msg";var s={};s.request=function(){try{if(!e.frameSrc&&!e.url){throw"please input frame src"}if(!e.domain){throw"please input domain"}if(e.beforesend){e.beforesend()}var t=e.removeFrame===true?e.removeFrame:false;if(e.url){var n=document.createElement("iframe");n.style.display="none";n.src=e.url;window.document.body.appendChild(n)}else{var n=e.frameSrc}window.document.domain=e.domain;n.onload=function(){if(n.contentDocument||n.contentWindow.document){var r=n.contentDocument||n.contentWindow.document;if(e.success){e.success(r);if(e.complete){e.complete();!t||!n.parentNode||n.parentNode.removeChild(n)}}}else{throw"cannot get data"}}}catch(r){if(e.error){e.error(r)}}};s.response=function(){try{if(!e.domain){throw"please input domain"}if(e.beforesend){e.beforesend()}window.document.domain=e.domain;if(e.success){if(window.parent.document){e.success(window.parent.document)}else{throw"cannot get data"}}if(e.complete){e.complete()}}catch(t){if(e.error){e.error(t)}}};var o={};o.request=function(){try{if(!window.postMessage){throw"your browser does not support postMessage"}if(!e.frameSrc&&!e.url){throw"please input frame src"}if(!e.processData){throw"please input processData function"}var t=e.removeFrame===true?e.removeFrame:false;if(e.url){var n=window.document.createElement("iframe");n.style.display="none";n.src=e.url}else{var n=e.frameSrc}if(e.beforesend){e.beforesend()}var r=e.processData();window.document.body.appendChild(n);var i=function(){var t=n.contentWindow||n.contentDocument;if(e.frameSrc){t.postMessage(r,n.src)}else{t.postMessage(r,e.url)}};window.onload=i;if(window.attachEvent){window.attachEvent("onmessage",function(r){if(e.success){e.success(r.data)}if(e.complete){e.complete();!t||!n.parentNode||n.parentNode.removeChild(n)}})}else{window.addEventListener("message",function(r){if(e.success){e.success(r.data)}if(e.complete){e.complete();!t||!n.parentNode||n.parentNode.removeChild(n)}},true)}}catch(s){if(e.error){e.error(s)}}};o.response=function(){try{if(!window.postMessage){throw"your browser does not support postMessage"}if(!e.url){throw"please input parent url"}if(!e.processData){throw"please input processData function"}var t=e.processData();if(e.beforesend){e.beforesend()}var n=function(){parent.postMessage(t,e.url)};window.onload=n;if(window.attachEvent){window.attachEvent("onmessage",function(t){if(e.success){e.success(t.data)}if(e.complete){e.complete()}})}else{window.addEventListener("message",function(t){if(e.success){e.success(t.data)}if(e.complete){e.complete()}},true)}}catch(r){if(e.error){e.error(r)}}};var u={};u.request=function(){try{if(!e.frameSrc&&!e.url){throw"please input frame src"}var t=e.removeFrame===true?e.removeFrame:false;var n=0;if(e.url){var r=window.document.createElement("iframe");r.style.display="none";r.id="dataFrame";r.src=e.url}else{var r=e.frameSrc}if(e.processData){window.navigator["request_data"]=e.processData()}if(e.beforesend){e.beforesend()}var i=false;var s=false;var o=function(){if(n===1){var o=window.navigator["response_data"]||"";if(e.success){e.success(o)}if(e.complete){e.complete();!t||!r.parentNode||r.parentNode.removeChild(r)}}else if(n===0){n=1;i=r;s=i.contentWindow||i.contentDocument;s.location="about:blank"}};if(r.attachEvent){r.attachEvent("onload",o)}else{r.onload=o}if(e.url){window.document.body.appendChild(r)}}catch(u){if(e.error){e.error(u)}}};u.response=function(){try{if(e.processData){window.navigator["response_data"]=e.processData()}if(e.beforesend){e.beforesend()}var t=window.navigator["request_data"]||"";if(e.success){e.success(t)}if(e.complete){e.complete()}}catch(n){if(e.error){e.error(n)}}};var a={};a.request=function(){if(i==="msg"){if(window.postMessage){o.request()}else{u.request()}}else if(i==="dom"){s.request()}};a.response=function(){if(i==="msg"){if(window.postMessage){o.response()}else{u.response()}}else if(i==="dom"){s.response()}};return{request:a.request,response:a.response}}(function(e){if(!e.cx){e.cx=cross}if(!e.cxLog){e.cxLog=function(e){if(window.console){console.log(e)}else{alert(e)}}}})(window)